<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/png" href="seashell.png">
    <link rel="stylesheet" href="codemirror/addon/lint/lint.css">
    <link rel="stylesheet" href="codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="codemirror/addon/dialog/dialog.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/common.css">

    <title>Seashell</title>
  </head>
  <body>
    <!-- Navigation header begins.  This is manipulated with stuff
    in JavaScript, so placeholder entries are put down as a mock-up.
    -->
    <header class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">Seashell</a>
      </div>

      <nav role="navigation">
      <ul class="nav navbar-nav">
        <li class="dropdown projects-dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">cs136-foo</a>
          <ul class="dropdown-menu">
            <li><a href="#" class="new-project">New project...</a></li>
            <li><a href="#" class="open">Open project...</a></li>
            <li class="divider"></li>
            <li><a href="#" class="commit">Commit</a></li>
            <li><a href="#" class="revert">Revert</a></li>
            <li class="divider"></li>
            <li><a href="#" class="compile">Compile</a></li>
            <li><a href="#" class="run">Run</a></li>
            <li class="divider"></li>
            <li><a href="#" class="submit">Submit</a></li>
          </ul>
        </li>
        <li class="dropdown edit-menu">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Edit</a>
        <ul class="dropdown-menu">
          <li><a href="#" class="undo">Undo</a></li>
          <li><a href="#" class="redo">Redo</a></li>
          <li><a href="#" class="commentLine">Comment lines...</a></li>
          <li><a href="#" class="commentSelection">Comment selection...</a></li>
          <li class="divider"></li>
          <li><a href="#" class="autoformat">Autoformat</a></li>
        </ul>       
        </li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
        <a href="#" class="dropdown-toggle userid" data-toggle="dropdown">ctdalek</a>
        <ul class="dropdown-menu">
          <li><a href="#settings-dialog" data-toggle="modal">Settings</a></li>
          <li><a href="#" class="logout">Logout</a></li>
        </ul>
        </li>
        <li><a data-toggle="modal" href="#help-dialog">Help</a></li>
      </ul>
      </nav>
    </div>
    </header>

    <!-- Here begins the body. -->
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="affix-top" role="navigation">
            <ul class="nav file-navigator">
              <li class="active"><a href="#">foo.c</a></li>
              <li><a href="#">bar.c</a></li>
            </ul>
          </div>
        </div>
        <div class="col-md-9" role="main">
          <div id="top">
            <div class="editor-div">
              <textarea id="editor" class="editor" rows="19" cols="93" width="100%"> </textarea>
            </div>
          </div>
          <!--Messages and program output will appear here.-->
          <div id="console" class="dark-on-light"></div>
        </div>
      </div>
    </div>

    <!-- Help dialog -->
    <div class="modal fade" id="help-dialog" tabindex="-1" role="dialog" aria-labelledby="help-label" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="help-label">Seashell Documentation</h4>
          </div>
          <div class="modal-body">
            <h4>Frequently asked questions.</h4>
            <dl>
              <dt>How does Seashell's version control work?</dt>
              <dd>
              <p>
              As Seashell is browser-based and internet connections aren't
              always reliable, Seashell automatically saves the text in the
              editor to your account on the school machines once every ten
              seconds or so, so any unexpected crashes won't hurt you too much.
              </p>

              <p>
              This removes your ability to get rid of unwanted changes by
              closing a file with unsaved modifications however. Seashell's
              version control lets you have the best of both worlds by
              allowing you to commit and revert files.
              </p>

              <p>
              Seashell's version control uses git in the backend.
              The user interface currently only understands how to commit and
              revert to the last commit, but git proper lets you do much,
              much more than that! You can learn more about git
              <a href="http://git-scm.com/">here</a>.
              </p>
              </dd>

              <dt>What's a commit?</dt>
              <dd>
              <p>
              Commits are a way to make "snapshots" of your files
              <strike>that you can move back and forth between</strike>.
              For example, you may wish to commit before you make
              potentially code-breaking changes to a function.
              </p>
              </dd>

              <dt>What does revert do?</dt>
              <dd>
              <p>
              Revert irreversibly destroys all changes you've made in the current
              file since your last commit. You will be asked to confirm
              that you actually do want to revert a file, but you should
              still be careful with this feature.
              </p>
              </dd>
            </dl>

            <hr>

            <h4>Default Editor Shortcuts</h4>
            These are shortcuts that will work when the editor window is focused
            (the cursor will be blinking if the window is focused).
            <ul class="list-group">
              <li class="list-group-item">
              <span class="badge">Ctrl-f</span>
              Start new search.
              </li>
              <li class="list-group-item">
              <span class="badge">Ctrl-g</span>
              Go to next match.
              </li>
              <li class="list-group-item">
              <span class="badge">Ctrl-G</span>
              Go to previous match.
              </li>
              <li class="list-group-item">
              <span class="badge">Ctrl-z</span>
              Undo.
              </li>
              <li class="list-group-item">
              <span class="badge">Ctrl-y</span>
              Redo.
              </li>
              <li class="list-group-item">
              <span class="badge">Ctrl-s</span>
              Commit.
              </li>
              <li class="list-group-item">
              <span class="badge">Ctrl-i</span>
              Indent.
              <li class="list-group-item">
              <span class="badge">Ctrl-j</span>
              Go to line.
              </li>
              <li class="list-group-item">
              <span class="badge">Ctrl-Enter</span>
              Run.
              </li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Big warning dialog -->
    <div class="modal fade" id="warning-dialog" tabindex="-1" role="dialog" aria-labelledby="warning-label" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="warning-label">
              <span class="glyphicon glyphicon-warning-sign"></span> 
              Warning!</h4>
          </div>
          <div class="modal-body">
            <h4>Welcome, testers!</h4>
            <p>Here is a rough preview of Seashell, an in-browser editing environment. Seashell should work in
            web browsers that support WebSockets and <a href="www.codemirror.org">CodeMirror</a>. If you're
            having issues with a browser that you think should work, send us an email with the name and
            version of your browser as well as what the issue is and how to reproduce it.</p>

            <p>The user interface (especially the left side of the bottom panel) is not set in stone. If you
            can think of something you'd like to see in the editor that isn't there or if you wish the
            buttons were arranged a little differently let us know about it.</p>

            <hr>

            <h4>Known bugs and issues</h4>
            <ul>
              <li>The interface for commit is there, but it doesn't actually do anything.</li>
              <li>The console isn't very useful (ideally you'll be able to type stuff into it as well as read from it)</li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- Settings dialog -->
    <div class="modal fade" id="settings-dialog" tabindex="-1" role="dialog" aria-labelledby="settings-label" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="settings-label">
              <span class="glyphicon glyphicon-cog"></span> 
              Settings.</h4>
          </div>
          <div class="modal-body">
            <form role="form">
              <div class="form-group">
                <label for="editor_font">Font size:</label>
                <input type="text" id="editor_font" class="form-control" placeholder="(in points)">
              </div>

              <div class="form-group">
                <label for="editor_mode">Editor mode:</label>
                <select id="editor_mode" class="form-control">
                  <option value="standard">Standard</option>
                  <option value="vim">Vim</option>
                  <option value="emacs">Emacs</option>
                </select>
              </div>

              <div class="form-group">
                <label for="tab_width">Tab Width:</label>
                <select id="tab_width" class="form-control">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="4">4</option>
                </select>
              </div>

              <div class="checkbox">
                <label>
                  <input type="checkbox" id="use-spaces" checked="checked" class="form-control"> Use spaces instead of tabs.
                </label>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default save-settings">Save</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->



    <!-- Scripts to run. -->
    <script src="//code.jquery.com/jquery-1.9.1.js"></script>
    <script src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/formatting.js"></script>
    <script type="text/javascript" src="codemirror/mode/clike/clike.js"></script>
    <script type="text/javascript" src="codemirror/addon/dialog/dialog.js"></script>
    <script type="text/javascript" src="codemirror/addon/search/searchcursor.js"></script>
    <script type="text/javascript" src="codemirror/addon/search/search.js"></script>
    <script type="text/javascript" src="codemirror/addon/edit/matchbrackets.js"></script>
    <script type="text/javascript" src="codemirror/mode/clike/clike.js"></script>

    <script type="text/javascript" src="codemirror/addon/selection/active-line.js"></script>
    <script type="text/javascript" src="codemirror/addon/lint/lint.js"></script>
    <script type="text/javascript" src="codemirror/addon/lint/javascript-lint.js"></script>

    <script type="text/javascript" src="js/codemirror/cm-validator-remote.js"></script>
    <script type="text/javascript" src="js/codemirror/clangMessages.js"></script>
    <script type="text/javascript" src="js/codemirror/format.js"></script>

    <script type="text/javascript" src="sjcl/sjcl.js"></script>

    <script type="text/javascript" src="js/socket/crypto.js"></script>
    <script type="text/javascript" src="js/socket/websocket_client.js"></script>

    <script type="text/javascript" src="js/login/login.js"></script>

    <script type="text/javascript" src="js/setup.js"></script>

    <!-- Window setup. -->
    <script type="text/javascript">
      $(document).ready(function(){
          $('#warning-dialog').modal('show');
          });
    </script>
  </body>
</html>
